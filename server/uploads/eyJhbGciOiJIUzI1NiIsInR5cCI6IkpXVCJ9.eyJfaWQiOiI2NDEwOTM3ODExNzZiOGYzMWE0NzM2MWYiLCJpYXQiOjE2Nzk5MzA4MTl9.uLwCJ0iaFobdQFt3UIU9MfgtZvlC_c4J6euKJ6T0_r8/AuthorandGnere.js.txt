import React, { useState } from 'react';

function AuthorandGenre() {
  const [authorName, setAuthorName] = useState('');
  const [genre, setGenre] = useState('');

  const authorOptions = ['example1', 'example2', 'example3'];
  const genreOptions = ['action', 'romance', 'scifi', 'isekai'];

  const handleSubmit = (event) => {
    event.preventDefault();

    const formData = { authorName, genre };

    fetch('/addBook', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    })
      .then(response => response.json())
      .then(data => console.log(data))
      .catch(error => console.error(error));
  };

  return (
    <form onSubmit={handleSubmit}>
      <div style={{ display: 'flex', justifyContent: 'center' }}>
        <label htmlFor="authorName">Author Name: </label>
        <select id="authorName" value={authorName} onChange={(event) => setAuthorName(event.target.value)}>
          <option value=""></option>
          {authorOptions.map(option => (
            <option key={option} value={option}>{option}</option>
          ))}
        </select>
      </div>
      <div style={{ display: 'flex', justifyContent: 'center' }}>
        <label htmlFor="genre">Genre: </label>
        <select id="genre" value={genre} onChange={(event) => setGenre(event.target.value)}>
          <option value=""></option>
          {genreOptions.map(option => (
            <option key={option} value={option}>{option}</option>
          ))}
        </select>
      </div>
      <div style={{ display: 'flex', justifyContent: 'center' }}>
        <button type="submit">Add Book</button>
      </div>
    </form>
  );
}

export default AuthorandGenre;